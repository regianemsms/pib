<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	 <div class="container" style="width:100%">
	 	<h:panelGrid columns="2" width="100%">
		 	<h:panelGroup>
				<h2>Primeira Igreja Batista em Limeira</h2>
		   		<p>Bem-vindo(a) #{loginBean.obterPrimeiroNome()}!!!</p>
			</h:panelGroup>
			<h:panelGroup style="float: right">
				<h:form id="form_header">
						<p/>
						<p:commandLink actionListener="#{senhaController.prepararAlterarSenha}"
							update="panellAlterarSenha" title="Alterar Senha">
								<h:graphicImage library="images" name="password.png" height="30px"   />
						</p:commandLink>	
						<p:spacer styleClass="pad10"/>
						<p:commandLink actionListener="#{senhaController.logout}" title="Sair" >
								<h:graphicImage library="images" name="logout.png" height="30px"   />
						</p:commandLink>
						
				</h:form>
			</h:panelGroup>
		</h:panelGrid>
	 <h:panelGroup id="panellAlterarSenha">
		 <p:dialog  appendTo="@(body)" widgetVar="modalAlterarSenha" resizable="true" 
					header="#{senhaController.usuarioForm.usuario.pessoa.nome}" modal="true" showEffect="explode" hideEffect="explode" >
			<h:form id="formAlterarSenha"  prependId="false">
				 <p:fieldset >
							 <h:panelGrid  
								 columns="2" 
								 cellpadding="4"
								  >
				   			<h:panelGroup>
					   			<p:outputLabel value="#{msg['display.login']}: " for="nomeUser"/><p/>
					   			<p:inputText id="nomeUser" 
				   						size="30" 
										maxlength="50" disabled="true"
				   						value="#{senhaController.usuarioForm.usuario.login}" />
				   			</h:panelGroup>
				   			<h:panelGroup>
					   			<p:outputLabel value="#{msg['display.senha.atual']}: " for="senhaAtual"/><p/>
					   			<p:password id="senhaAtual" 
									value="#{senhaController.usuarioForm.senhaAtual}" 
									maxlength="30" 
									size="30"/>
				   			</h:panelGroup>	
				   			<h:panelGroup>
					   			<p:outputLabel value="#{msg['display.nova.senha']}: " for="novaSenha"/><p/>
					   			<p:password id="novaSenha" 
									value="#{senhaController.usuarioForm.usuario.senha}" 
									maxlength="30" 
									size="30"/>
				   			</h:panelGroup>	
				   			<h:panelGroup>
					   			<p:outputLabel value="#{msg['display.confirm.nova.senha']}: " for="confirmNovasenha"/><p/>
					   			<p:password id="confirmNovasenha" 
									value="#{senhaController.usuarioForm.confirmNovaSenha}" 
									maxlength="30" 
									size="30"/>
				   			</h:panelGroup>			 
					 		</h:panelGrid><p/>
					 			<p:commandButton id="btCancelUsuario"
					 							 value="#{msg['display.cancelar']}" 
					 							 icon="ui-icon-close"
					 							 oncomplete="PF('modalAlterarSenha').hide();"
					 							 styleClass="btDireita botaoDisable"/>
					 			<p:spacer styleClass="pad20"/>
			        			<p:commandButton id="btConfirmAlterar"
					 							 value="#{msg['display.confirmar']}" 
					 							 actionListener="#{senhaController.atualizarSenha}" 
					 							 icon="ui-icon-check"
					 							 styleClass="btDireita botao"/>
					 			
			 			</p:fieldset>
			</h:form>
		</p:dialog>
	</h:panelGroup>	
	  <h:panelGroup id="panelSenhaAtualizada">
			<p:dialog  appendTo="@(body)" widgetVar="modalSenhaAtualizada" resizable="true" styleClass="centralizar"
			  			header="#{msg['msg.confirmacao']}" modal="true" showEffect="explode" hideEffect="explode" >
				<h:form id="formSenhaAtualizada"  prependId="false">
					    <h:outputText value="#{msg['msg.senha.alterada.sucesso']}"/>
					  <p/>
			 		<p:commandButton 
			 		 		oncomplete="PF('modalSenhaAtualizada').hide();"
  	 		 			    styleClass="botao"
		 		 			icon="ui-icon-check"
		 		 			value="#{msg['display.confirmar']}" /> 
				</h:form>
			</p:dialog> 
			</h:panelGroup>			
	</div>	
</ui:fragment>